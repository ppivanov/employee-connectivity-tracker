@inject HttpClient Http
@inject IControllerConnection apiConn

<div class="expand-nav center-flex" onclick="openNav()">>></div>
<nav id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="/" class="menu-option bottom-border">Home</a>
    <a href="/dashboard" class="menu-option bottom-border">Dashboard</a>
    @if (isLeader)
    {
        <a href="/my-team" class="menu-option bottom-border">Team</a>
        <a href="/manage-team/@hashedTeamId" class="menu-option bottom-border">Manage Team</a>
    }
    @if (isAdmin)
    {
        <a href="/create-team" class="menu-option">Create Team</a>
        <a href="/comm-points" class="menu-option">Manage Mediums</a>
    }
</nav>

@code{
    private bool isAdmin = false;
    private bool isLeader = false;
    private string hashedTeamId = "";

    protected override async Task OnInitializedAsync()
    {
        isAdmin = await apiConn.IsProcessingUserAnAdmin();
        isLeader = await apiConn.IsProcessingUserALeader();
        if (isLeader)
        {
            hashedTeamId = await apiConn.GetHashedTeamId();
        }
    }
}